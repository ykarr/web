<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="utf-8">
    <title>계산기</title>
    <style>
      body{
        text-align: center;
      }
      td{
        border-style: solid;
      }
    </style>
    <script>
      var showresult;
      var change;
      var num=1;
      function send(data) {
        output.value = output.value + data;
      }
      function outputclear(){
        output.value="";
      }
      function allclear(){
        input.value="";
        output.value="";
      }
      function result(){
        input.value=input.value+output.value;
        showresult = eval(input.value);
        //eval() 문자열을 코드로 인식하게 해줌
        list.value+=num+"번째 계산식"+input.value+"\n";
        input.value="";
        output.value=showresult;
        list.value+=num+"번째 결과"+showresult+"\n";
        num++;
      }
      function square(){
        showresult = Math.pow(output.value,2);
        //eval() 문자열을 코드로 인식하게 해줌
        input.value="";
        output.value=showresult;
      }
      /*+-수정이 필요함*/
      function swap(){
        output.value=-output.value;
      }
      function tdelete(){
        output.value = output.value.substring(0, output.value.length-1);
      }
      /*하아..루트 수정필요*/
      function sqrt() {
        input.value = Math.sqrt(input.value);
      }
      function sign(data){
        input.value = input.value+output.value + data;
        output.value="";
      }
      function point(){
        output.value="1/"+output.value;
        showresult=eval(output.value);
        input.value=input.value+showresult;
        output.value="";
      }
    </script>
  </head>
  <body>
    <table>
      <tr>
        <td class="aa" colspan="4"><input type="text" id="input" readonly></td>
      </tr>
      <tr>
        <td colspan="4"><input type="text" id="output" readonly></td>
      </tr>
      <tr>
        <td onclick="sign('%')">%</td>
        <td onclick="sqrt()">루트</td>
        <td onclick="square()">제곱</td>
        <td onclick="point()">1/X</td>
      </tr>
      <tr>
        <td onclick="outputclear()">ce</td>
        <td onclick="allclear()">c</td>
        <td onclick="tdelete()"><</td>
        <td onclick="sign('/')">÷</td>
      </tr>
      <tr>
        <td onclick="send(7)">7</td>
        <td onclick="send(8)">8</td>
        <td onclick="send(9)">9</td>
        <td onclick="sign('*')">X</td>
      </tr>
      <tr>
        <td onclick="send(4)">4</td>
        <td onclick="send(5)">5</td>
        <td onclick="send(6)">6</td>
        <td onclick="sign('-')">-</td>
      </tr>
      <tr>
        <td onclick="send(1)">1</td>
        <td onclick="send(2)">2</td>
        <td onclick="send(3)">3</td>
        <td onclick="sign('+')">+</td>
      </tr>
      <tr>
        <td onclick="swap()">+-</td>
        <td onclick="send(0)">0</td>
        <td onclick="send('.')">.</td>
        <td onclick="result()">=</td>
      </tr>
      <tr>
        <td colspan="4"><textarea id="list" rows="40" cols="22"></textarea></td>
      </tr>
    </table>
  </body>
</html>
