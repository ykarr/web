<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="utf-8">
    <title>계산기</title>
    <style>
      body{
        text-align: center;
      }
    </style>
    <script>
      var show;
      var showresult;
      var num=1;
      function send(data) {
        show = document.getElementById('input');
        input.value = show.value + data;
      }
      function tclear(){
        document.getElementById('input').value="";
        document.getElementById('output').value="";
      }
      function result(){
        show =  document.getElementById('input');
        showresult = eval(show.value);
        //eval() 문자열을 코드로 인식하게 해줌
        document.getElementById('list').value+=num+"번째 계산식"+input.value+"\n";
        document.getElementById('input').value="";
        document.getElementById('output').value=showresult;
        document.getElementById('list').value+=num+"번째 결과"+showresult+"\n";
        num++;
      }
      function square(){
        show =  document.getElementById('input');
        showresult = Math.pow(show.value,2);
        //eval() 문자열을 코드로 인식하게 해줌
        document.getElementById('input').value="";
        document.getElementById('output').value=showresult;
      }
      /*+-수정이 필요함*/
      function swap(){
        showresult=document.getElementById('input');
        showresult.value=-showresult.value;
      }
      function tdelete(){
        input.value = input.value.substring(0, show.value.length-1);
      }
      /*하아..루트 수정필요*/
      function sqrt() {
        input.value = Math.sqrt(input.value);
      }
      function sign(data){
        show = document.getElementById('input');
        input.value = show.value + data;
      }

    </script>
  </head>
  <body>
    <table>
      <tr>
        <td class="aa" colspan="4"><input type="text" id="input" readonly></td>
      </tr>
      <tr>
        <td colspan="4"><input type="text" id="output" readonly></td>
      </tr>
      <tr>
        <td onclick="sign('%')">%</td>
        <td onclick="sqrt()">루트</td>
        <td onclick="square()">제곱</td>
        <td>1/X</td>
      </tr>
      <tr>
        <td onclick="tclear()">ce</td>
        <td onclick="tclear()">c</td>
        <td onclick="tdelete()"><</td>
        <td onclick="sign('/')">÷</td>
      </tr>
      <tr>
        <td onclick="send(7)">7</td>
        <td onclick="send(8)">8</td>
        <td onclick="send(9)">9</td>
        <td onclick="sign('*')">X</td>
      </tr>
      <tr>
        <td onclick="send(4)">4</td>
        <td onclick="send(5)">5</td>
        <td onclick="send(6)">6</td>
        <td onclick="sign('-')">-</td>
      </tr>
      <tr>
        <td onclick="send(1)">1</td>
        <td onclick="send(2)">2</td>
        <td onclick="send(3)">3</td>
        <td onclick="sign('+')">+</td>
      </tr>
      <tr>
        <td onclick="swap()">+-</td>
        <td onclick="send(0)">0</td>
        <td onclick="send('.')">.</td>
        <td onclick="result()">=</td>
      </tr>
      <tr>
        <td colspan="4"><textarea id="list" rows="40" cols="22"></textarea></td>
      </tr>
    </table>
  </body>
</html>
